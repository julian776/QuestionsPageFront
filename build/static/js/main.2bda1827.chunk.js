(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,n){e.exports=n(287)},168:function(e,t){},169:function(e,t){},170:function(e,t){},177:function(e,t){},179:function(e,t){},190:function(e,t){},192:function(e,t){},219:function(e,t){},221:function(e,t){},222:function(e,t){},227:function(e,t){},229:function(e,t){},235:function(e,t){},237:function(e,t){},256:function(e,t){},268:function(e,t){},271:function(e,t){},285:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=285},286:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(61),o=n(30),u=n(14),l=n(149),i=n(150),s=n(15),m=n(16),p=n(31),d=n(45),E="LOGIN",f="LOGOUT",b=function(){return{type:f}},h=n(46),O=function(){return r.a.createElement("nav",null,r.a.createElement(h.b,{className:"icon"}),r.a.createElement("section",null,r.a.createElement(m.b,{to:"/"},"Home"),r.a.createElement(m.b,{to:"/questions"},"Questions")))},v=function(){return r.a.createElement("nav",null,r.a.createElement(h.b,{className:"icon"}),r.a.createElement("section",null,r.a.createElement(m.b,{to:"/"},"Home"),r.a.createElement(m.b,{to:"/questions"},"Questions"),r.a.createElement(m.b,{to:"/new"},"New"),r.a.createElement(m.b,{to:"/list"},"List"),r.a.createElement(m.b,{to:"/perfil"},"Perfil")))},g=function(e){var t=e.children;return r.a.createElement("section",{className:"home-section"},r.a.createElement("h1",{className:"home-title"},"Home"),r.a.createElement("p",null,"welcome to the question and answer app."),r.a.createElement("div",null,t))},q=n(6),j=n.n(q),y=n(10),N="https://questions-app-sofka.herokuapp.com",w="LOADING",x="LOADED_SUCCESS",I="LOADED_FAILURE",S=function(){return{type:w}},C=function(e){return{type:x,payload:e}},k=function(){return{type:I}};function T(e){return function(){var t=Object(y.a)(j.a.mark(function t(n){var a,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(S()),t.prev=1,t.next=4,fetch("".concat(N,"/getOwnerAll/").concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,n(C({questions:r,redirect:null})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(k());case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}function L(e){return function(){var t=Object(y.a)(j.a.mark(function t(n){var a,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(S()),t.prev=1,t.next=4,fetch("".concat(N,"/get/").concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,n(C({question:r,redirect:null})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(k());case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}var P=n(91),A=n(63),D=function(e){var t=e.question,n=e.excerpt,c=e.onDelete,o=Object(p.h)(),l=Object(u.d)(function(e){return e.auth.uid}),i={},s=(function(){d.apply(this,arguments)}(),{feliz:0,normal:0,disgusto:0});function d(){return(d=Object(y.a)(j.a.mark(function e(){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/votes/").concat(t.id));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function E(e){return f.apply(this,arguments)}function f(){return(f=Object(y.a)(j.a.mark(function e(n){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l in i)){e.next=2;break}return e.abrupt("return","");case 2:a=0,e.t0=n,e.next=2===e.t0?6:1===e.t0?8:0===e.t0?10:12;break;case 6:return a=2,e.abrupt("break",13);case 8:return a=1,e.abrupt("break",13);case 10:return a=0,e.abrupt("break",13);case 12:a=2;case 13:return e.next=15,fetch("".concat(N,"/add/vote"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:t.id,userId:l,voto:a})});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement("article",{className:n?"question-excerpt":"question"},r.a.createElement("h2",null,t.question),r.a.createElement("h4",{id:"votos"},"/questions"!=o.pathname&&function(){var e=s.feliz+s.normal+s.disgusto,t=r.a.createElement(A.a,null);return e.feliz>=.65*s?t=r.a.createElement(P.a,null):e.normal>=.65*s?t=r.a.createElement(A.a,null):e.disgusto>=.65*s&&(t=r.a.createElement(h.a,null)),r.a.createElement(a.Fragment,null,"Las personas han votado ",t)}()),r.a.createElement("p",null,t.category,"  - ",r.a.createElement("small",null,t.type),"/questions"!=o.pathname&&"/list"!=o.pathname&&r.a.createElement(a.Fragment,null,r.a.createElement("button",{onClick:function(){return E(2)},className:"button-vote"},r.a.createElement(P.a,null)),r.a.createElement("button",{onClick:function(){return E(1)},className:"button-vote"},r.a.createElement(A.a,null)),r.a.createElement("button",{onClick:function(){return E(0)},className:"button-vote"},r.a.createElement(h.a,null)))),c&&r.a.createElement("button",{className:"button right",onClick:function(){return c(t.id)}},"DELETE"),n&&r.a.createElement(m.b,{to:"/question/".concat(t.id),className:"button"},"View Question"))},U=function(e){var t=e.answer;return r.a.createElement("aside",{className:"answer"},r.a.createElement("p",null,t.answer))},H=function(e){var t=e.match,n=Object(u.d)(function(e){return[e.question,e.auth.uid]}),c=Object(s.a)(n,2),o=c[0],l=c[1],i=Object(u.c)(),p=t.params.id;Object(a.useEffect)(function(){i(L(p))},[i,p]);return r.a.createElement("section",null,o.loading.question?r.a.createElement("p",null,"Loading question..."):o.hasErrors.question?r.a.createElement("p",null,"Unable to display question."):r.a.createElement(D,{question:o.question}),l&&r.a.createElement(m.b,{to:"/answer/"+p,className:"button right"},"Reply"),r.a.createElement("h2",null,"Answers"),o.question.answers&&o.question.answers.length?o.question.answers.map(function(e){return r.a.createElement(U,{key:e.id,answer:e})}):r.a.createElement("p",null,"Empty answer!"))},W=function(){var e=Object(u.d)(function(e){return e.question}),t=Object(u.c)();Object(a.useEffect)(function(){t(function(){var e=Object(y.a)(j.a.mark(function e(t){var n,a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(S()),e.prev=1,e.next=4,fetch("".concat(N,"/getAll"));case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,t(C({questions:a,redirect:null})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(k());case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}())},[t]);return r.a.createElement("section",null,r.a.createElement("h1",null,"Questions"),e.loading?r.a.createElement("p",null,"Loading questions..."):e.hasErrors?r.a.createElement("p",null,"Unable to display questions."):e.questions.map(function(e){return r.a.createElement(D,{key:e.id,question:e,excerpt:!0})}))},F=n(53),G=(n(288),n(165),d.a.initializeApp({apiKey:"AIzaSyB0-FADN10loCUlp2xV7Xw2QGne5XsWpfc",authDomain:"questions-fcd8c.firebaseapp.com",projectId:"questions-fcd8c",storageBucket:"questions-fcd8c.appspot.com",messagingSenderId:"249502199556",appId:"1:249502199556:web:919c403f5d3bb012b9aa51"}),d.a.auth()),B=function(e,t){G.createUserWithEmailAndPassword(e,t)},R=function(e,t){G.signInWithEmailAndPassword(e,t)},X=function(){return G.currentUser.email},Q=function(){return G.currentUser.uid},V=Object(u.b)(function(e){return{loading:e.question.loading,redirect:e.question.redirect,hasErrors:e.question.hasErrors,userId:e.auth.uid}})(function(e){var t=e.dispatch,n=e.loading,c=e.redirect,o=e.userId,u=Object(F.a)(),l=u.register,i=u.handleSubmit,s=Object(p.g)();console.log(X());return Object(a.useEffect)(function(){c&&s.push(c)},[c,s]),r.a.createElement("section",null,r.a.createElement("h1",null,"New Question"),r.a.createElement("form",{onSubmit:i(function(e){var n;e.userId=o,e.email=X(),t((n=e,function(){var e=Object(y.a)(j.a.mark(function e(t){var a,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(S()),e.prev=1,e.next=4,fetch("".concat(N,"/create"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.next=7,a.text();case 7:r=e.sent,t(C({redirect:"/question/".concat(r)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(k());case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()))})},r.a.createElement("div",null,r.a.createElement("label",{for:"type"},"Type"),r.a.createElement("select",Object.assign({},l("type"),{id:""}),r.a.createElement("option",{value:"OPEN (LONG OPEN BOX)"},"OPEN (LONG OPEN BOX)"),r.a.createElement("option",{value:"OPINION (SHORT OPEN BOX)"},"OPINION (SHORT OPEN BOX)"),r.a.createElement("option",{value:"WITH RESULT (OPEN BOX WITH LINK)"},"WITH RESULT (OPEN BOX WITH LINK)"),r.a.createElement("option",{value:"WITH EVIDENCE (OPEN BOX WITH VIDEO)"},"WITH EVIDENCE (OPEN BOX WITH VIDEO)"))),r.a.createElement("div",null,r.a.createElement("label",{for:"category"},"Category"),r.a.createElement("select",Object.assign({},l("category"),{id:"category"}),r.a.createElement("option",{value:"TECHNOLOGY AND COMPUTER"},"TECHNOLOGY AND COMPUTER"),r.a.createElement("option",{value:"SCIENCES"},"SCIENCES"),r.a.createElement("option",{value:"SOFTWARE DEVELOPMENT"},"SOFTWARE DEVELOPMENT"),r.a.createElement("option",{value:"SOCIAL SCIENCES"},"SOCIAL SCIENCES"),r.a.createElement("option",{value:"LANGUAGE"},"LANGUAGE"))),r.a.createElement("div",null,r.a.createElement("label",{for:"question"},"Question"),r.a.createElement("textarea",Object.assign({id:"question"},l("question",{required:!0,maxLength:300})))),r.a.createElement("button",{type:"submit",className:"button",disabled:n},n?"Saving ....":"Save")))}),J=Object(u.b)(function(e){return{loading:e.question.loading,redirect:e.question.redirect,question:e.question.question,hasErrors:e.question.hasErrors,userId:e.auth.uid}})(function(e){var t=e.loading,n=e.redirect,c=e.match,o=e.hasErrors,l=e.question,i=e.userId,s=Object(F.a)(),m=s.register,d=s.handleSubmit,E=c.params.id,f=Object(p.g)(),b=Object(u.c)(),h=Object(u.d)(function(e){return e});console.log(h);Object(a.useEffect)(function(){b(L(E))},[b,E]),Object(a.useEffect)(function(){n&&f.push(n)},[n,f]);return r.a.createElement("section",null,t.question?r.a.createElement("p",null,"Loading question..."):o.question?r.a.createElement("p",null,"Unable to display question."):r.a.createElement(D,{question:l}),r.a.createElement("h1",null,"New Answer"),r.a.createElement("form",{onSubmit:d(function(e){var t;e.userId=i,e.questionId=E,b((t=e,function(){var e=Object(y.a)(j.a.mark(function e(n){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(S()),e.prev=1,e.next=4,fetch("".concat(N,"/add"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:n(C({redirect:"/question/".concat(t.questionId)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(k());case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()))})},r.a.createElement("div",null,r.a.createElement("label",{for:"answer"},"Answer"),r.a.createElement("textarea",Object.assign({id:"answer"},m("answer",{required:!0,maxLength:300})))),r.a.createElement("button",{type:"submit",className:"button",disabled:t},t?"Saving ....":"Save")))}),z=Object(u.b)(function(e){return{loading:e.question.loading,questions:e.question.questions,hasErrors:e.question.hasErrors,redirect:e.question.redirect,userId:e.auth.uid}})(function(e){var t=e.dispatch,n=e.loading,c=e.questions,o=e.hasErrors,u=e.redirect,l=e.userId;Object(a.useEffect)(function(){t(T(l))},[t,l]),Object(a.useEffect)(function(){u&&t(T(l))},[u,t,l]);var i=function(e){t(function(e){return function(){var t=Object(y.a)(j.a.mark(function t(n){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(S()),t.prev=1,t.next=4,fetch("".concat(N,"/delete/").concat(e),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}});case 4:n(C({redirect:"/list"})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(k());case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("section",null,r.a.createElement("h1",null,"Questions"),n?r.a.createElement("p",null,"Loading questions..."):o?r.a.createElement("p",null,"Unable to display questions."):c.map(function(e){return r.a.createElement(D,{key:e.id,question:e,excerpt:!0,onDelete:i})}))}),M=n(152),_=n(153);var K=function(){var e=new d.a.auth.GoogleAuthProvider;G.signInWithPopup(e)},Y=function(e){e.dispatch;var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),l=Object(s.a)(u,2),i=l[0],m=l[1];return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:function(e){return m(e.target.value)},required:!0}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),B(c,i)},className:"button"},"Sign Up"),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),R(c,i)},className:"button"},"Sign In"),"Other provider",r.a.createElement("button",{className:"button-google",onClick:K},r.a.createElement(_.a,null)))))},Z=n(22);n(167);function $(){var e=Object(a.useState)({nombre:"",apellido:""}),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)(function(){!function(){var e=Object(y.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/user/").concat(Q()));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to get data");case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()()},[]);return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",id:"name",placeholder:n.nombre||"Not found",onChange:function(e){return c(Object(Z.a)(Object(Z.a)({},n),{},{nombre:e.target.value}))},required:!0}),r.a.createElement("label",{htmlFor:"apellido"},"Apellido"),r.a.createElement("input",{type:"text",id:"apellido",placeholder:n.apellido||"Not found",onChange:function(e){return c(Object(Z.a)(Object(Z.a)({},n),{},{apellido:e.target.value}))},required:!0}),r.a.createElement("button",{type:"submit",className:"button",onClick:function(e){e.preventDefault();var t={nombre:n.nombre,apellido:n.apellido,email:X(),id:Q()};fetch("".concat(N,"/user"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return c(e.json())})}},"Save Changes"))}function ee(e){var t=e.dispatch;return G.currentUser&&r.a.createElement("button",{className:"button",onClick:function(){t(b()),G.signOut()}},"Sign out")}var te=function(e){var t,n,a=e.dispatch,c=Object(M.a)(G),o=Object(s.a)(c,1)[0];return o&&a((t=o.email,n=o.uid,{type:E,payload:{email:t,uid:n}})),r.a.createElement(m.a,null,o?r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:function(){return r.a.createElement(g,null,r.a.createElement(ee,{dispatch:a}))}}),r.a.createElement(p.b,{exact:!0,path:"/questions",component:W}),r.a.createElement(p.b,{exact:!0,path:"/question/:id",component:H}),r.a.createElement(p.b,{exact:!0,path:"/list",component:z}),r.a.createElement(p.b,{exact:!0,path:"/answer/:id",component:J}),r.a.createElement(p.b,{exact:!0,path:"/new",component:V}),r.a.createElement(p.b,{exact:!0,path:"/perfil",component:$}),r.a.createElement(p.a,{to:"/"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:function(){return r.a.createElement(g,null,!o&&r.a.createElement(Y,{dispatch:a}))}}),r.a.createElement(p.b,{exact:!0,path:"/questions",component:W}),r.a.createElement(p.b,{exact:!0,path:"/question/:id",component:H}),r.a.createElement(p.b,{exact:!0,path:"/answer/:id",component:J}),r.a.createElement(p.a,{to:"/"}))))},ne={loading:!0,hasErrors:!1,questions:[],question:{},redirect:null};var ae={email:null,uid:null};var re=Object(o.combineReducers)({question:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Z.a)(Object(Z.a)({},e),{},{loading:!0});case x:return Object(Z.a)(Object(Z.a)(Object(Z.a)({},e),t.payload),{},{loading:!1,hasErrors:!1});case I:return Object(Z.a)(Object(Z.a)({},e),{},{loading:!1,hasErrors:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=t.payload;return{email:n.email,uid:n.uid};case f:return ae;default:return e}}});n(286);var ce=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h4",null,"P\xe1gina para aprender en comunidad, recuerda siempre mantener el respeto"),r.a.createElement("p",null,"Todos los derechos reservados Juli\xe1n Camilo \xc1lvarez Zuluaga"),r.a.createElement("p",null,"Team Sofka"))},oe=Object(o.createStore)(re,Object(i.composeWithDevTools)(Object(o.applyMiddleware)(l.a)));Object(c.render)(r.a.createElement(u.a,{store:oe},r.a.createElement(te,{dispatch:oe.dispatch}),r.a.createElement(ce,null)),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.2bda1827.chunk.js.map